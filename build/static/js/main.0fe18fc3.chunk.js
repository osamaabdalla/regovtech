(this.webpackJsonpregov=this.webpackJsonpregov||[]).push([[0],{32:function(e,t,a){},40:function(e,t,a){e.exports=a(52)},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(5),s=a(18),i=a(34);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=a(3),u=a(6),d=Object(u.a)(),p=function(){return n.createElement("p",null,"Logged in home page")},f=a(14),E=a(10),g=a(17),b=a(54),N=a(9),v=a.n(N),h=a(15);var w=a(11),y={accountLogin:function(e){return function(){var t=Object(h.a)(v.a.mark((function t(a){var n,r,c,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.localStorage.getItem("usersdata");case 2:if(n=t.sent,!(r="string"===typeof n?JSON.parse(n):null)){t.next=17;break}c=0;case 6:if(!(c<r.length)){t.next=17;break}if((l=JSON.parse(r[c])).email!==e.email||l.password!==e.password){t.next=14;break}return t.next=11,window.localStorage.setItem("authenticated","true");case 11:return t.next=13,window.localStorage.setItem("loggeduserid",l.email);case 13:a({type:"AUTHENTICATE"});case 14:c++,t.next=6;break;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},x=Object(o.b)(null,y)((function(e){var t=e.accountLogin,a=(e.state,n.useState()),r=Object(g.a)(a,2),c=r[0],l=r[1],o=function(e){l(Object(E.a)(Object(E.a)({},c),{},Object(f.a)({},e.currentTarget.id,e.currentTarget.value)))};return n.createElement("div",{className:"container"},n.createElement("div",{className:"row align-items-center"},n.createElement("div",{className:"col-md-4 mx-auto"},n.createElement("div",{className:"text-center bbox-title border"},n.createElement("h4",null,"Login."),n.createElement("small",null,"Enter your login details.")),n.createElement("div",{className:"bbox-box border"},n.createElement("form",{onSubmit:function(e){e.preventDefault(),t(c)}},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Email address"),n.createElement("input",{type:"email",name:"email",id:"email",onChange:o,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Password"),n.createElement("input",{type:"password",name:"password",id:"password",onChange:o,className:"form-control"})),n.createElement("button",{type:"submit",className:"btn btn-success"},"Login"),n.createElement(b.a,{variant:"danger",type:"button",href:"/register",className:"float-right"},"Register"))),n.createElement("div",{className:"container"},n.createElement(w.a,{to:"/"},"< "," Home ")))))})),O={logOutConnect:function(){return function(){var e=Object(h.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.setItem("authenticated","false");case 2:return e.next=4,window.localStorage.removeItem("loggeduserid");case 4:t({type:"UNAUTHENTICATE"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},accountUpdate:function(e){return function(){var t=Object(h.a)(v.a.mark((function t(a){var n,r,c,l,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.localStorage.getItem("usersdata");case 2:return n=t.sent,t.next=5,window.localStorage.getItem("loggeduserid");case 5:if(r=t.sent,c="string"===typeof n?JSON.parse(n):null)for(l=0;l<c.length;l++)JSON.parse(c[l]).email===r&&(o=Object(E.a)({},e),c[l]=JSON.stringify(o));return t.next=10,window.localStorage.setItem("usersdata",JSON.stringify(c));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},A=Object(o.b)((function(e){return{state:e}}),O)((function(e){var t=e.logOutConnect,a=e.accountUpdate,r=e.state,c=n.useState(),l=Object(g.a)(c,2),o=l[0],s=l[1],i=function(e){s(Object(E.a)(Object(E.a)({},o),{},Object(f.a)({},e.currentTarget.id,e.currentTarget.value)))};return n.createElement("div",{className:"container"},n.createElement("div",{className:"row align-items-center"},n.createElement("div",{className:"col-md-4 mx-auto"},n.createElement("div",{className:"text-center bbox-title border"},n.createElement("h4",null,"Account"),n.createElement("small",null,"Below your details, you can update.")),n.createElement("div",{className:"bbox-box border"},n.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("user",o),a(o)}},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Full Name"),n.createElement("input",{type:"text",name:"name",id:"name",defaultValue:r.user.name,onChange:i,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Email address"),n.createElement("input",{type:"email",name:"email",id:"email",defaultValue:r.user.email,onChange:i,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Password"),n.createElement("input",{type:"password",name:"password",id:"password",defaultValue:r.user.password,onChange:i,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Passport / Identity Card "),n.createElement("div",{className:"form-file"},n.createElement("img",{src:r.user.identity,alt:"Identity",className:"identity"}),n.createElement("input",{id:"identity",type:"file",name:"identity",onChange:i,className:"form-control-file"}))),n.createElement("button",{type:"submit",className:"btn btn-success"},"Update"),n.createElement(b.a,{variant:"danger",type:"button",onClick:t,className:"float-right"},"Logout"))),n.createElement("div",{className:"container"},n.createElement(w.a,{to:"/"},"< "," Home ")))))})),S={accountAdd:function(e){return function(){var t=Object(h.a)(v.a.mark((function t(a){var n,r,c,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.localStorage.getItem("usersdata");case 2:return n=t.sent,r="string"===typeof n?JSON.parse(n):null,c=[],r&&(c=r),e.id=Math.random(),l=JSON.stringify(e),c.push(l),t.next=11,window.localStorage.setItem("usersdata",JSON.stringify(c));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},j=Object(o.b)(null,S)((function(e){var t=e.accountAdd,a=(e.state,n.useState()),r=Object(g.a)(a,2),c=r[0],l=r[1],o=function(e){l(Object(E.a)(Object(E.a)({},c),{},Object(f.a)({},e.currentTarget.id,e.currentTarget.value)))};return n.createElement("div",{className:"container"},n.createElement("div",{className:"row align-items-center"},n.createElement("div",{className:"col-md-4 mx-auto"},n.createElement("div",{className:"text-center bbox-title border"},n.createElement("h4",null,"Register"),n.createElement("small",null,"Please enter the details below.")),n.createElement("div",{className:"bbox-box border"},n.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("user",c),t(c),d.push("/")}},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Full Name"),n.createElement("input",{type:"text",name:"name",id:"name",onChange:o,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Email address"),n.createElement("input",{type:"email",name:"email",id:"email",onChange:o,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Password"),n.createElement("input",{type:"password",name:"password",id:"password",onChange:o,className:"form-control"})),n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label"},"Passport / Identity Card "),n.createElement("div",{className:"form-file"},n.createElement("input",{id:"identity",type:"file",name:"identity",onChange:o,className:"form-control-file"}))),n.createElement("button",{type:"submit",className:"btn btn-success"},"Register"),n.createElement(b.a,{variant:"danger",type:"button",href:"/login",className:"float-right"},"Login"))),n.createElement("div",{className:"container"},n.createElement(w.a,{to:"/"},"< "," Home ")))))})),T=a(55);var C,I=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("div",{className:"text-center bbox-title border"},r.a.createElement("h4",null,"Not found")),r.a.createElement("div",{className:"bbox-box border"},r.a.createElement(T.a,{variant:"danger"},"Sorry, the page you are looking for in not found, you can ",r.a.createElement("br",null),r.a.createElement(T.a.Link,{href:"/"},"Go back to home page"),".")))))},k=a(21),J=Object(o.b)((function(e){return{isAuthenticated:e.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated;Object(k.a)(e,["component","isAuthenticated"]);return!1===a&&d.push("/"),n.createElement(n.Fragment,null,n.createElement(m.a,{render:function(e){return n.createElement(n.Fragment,null,n.createElement(t,e))}}))})),U=Object(o.b)((function(e){return{isAuthenticated:e.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated;Object(k.a)(e,["component","isAuthenticated"]);return!0===a&&d.push("/account"),n.createElement(n.Fragment,null,n.createElement(m.a,{render:function(e){return n.createElement(n.Fragment,null,n.createElement(t,e))}}))})),H=function(){return n.createElement(m.c,null,n.createElement(U,{path:"/",exact:!0,component:x}),n.createElement(U,{path:"/register",exact:!0,component:j}),n.createElement(J,{path:"/account",exact:!0,component:A}),n.createElement(J,{path:"/home",exact:!0,component:p}),n.createElement(m.a,{component:I}))},L=(a(32),window.innerHeight),F={checkAuthenticationConnect:function(){return function(){var e=Object(h.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("authenticated");case 2:a=e.sent,n="string"===typeof a?JSON.parse(a):null,t(n?{type:"AUTHENTICATE"}:{type:"UNAUTHENTICATE"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},P=Object(o.b)((function(e){return{isAuthenticated:e.isAuthenticated}}),F)((function(e){var t=e.checkAuthenticationConnect,a=e.isAuthenticated;n.useEffect((function(){t()}),[]);var r=null!==a?n.createElement(m.b,{history:d},n.createElement(m.a,{component:H})):null;return n.createElement("div",{className:"App",style:{minHeight:L}},r)}));a(51);C=s.c;var B=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{id:0,name:"",email:"",password:"",identity:""},isAuthenticated:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":var a=window.localStorage.getItem("usersdata"),n=window.localStorage.getItem("loggeduserid"),r="string"===typeof a?JSON.parse(a):null;if(r)for(var c=0;c<r.length;c++){var l=JSON.parse(r[c]);if(l.email===n)return{user:{id:l.id,name:l.name,email:l.email,password:l.password,identity:l.identity},isAuthenticated:!0}}case"UNAUTHENTICATE":return{user:{id:0,name:"",email:"",password:"",identity:""},isAuthenticated:!1}}return e}),void 0,C(Object(s.a)(i.a)));l.a.render(r.a.createElement(o.a,{store:B},r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.0fe18fc3.chunk.js.map