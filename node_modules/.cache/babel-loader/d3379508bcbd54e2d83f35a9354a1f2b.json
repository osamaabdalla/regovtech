{"ast":null,"code":"import{AUTHENTICATE,UNAUTHENTICATE}from\"../constants\";export default function currentReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{user:{id:0,name:'',email:'',password:'',identity:''},isAuthenticated:null};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case AUTHENTICATE:var savedusers=window.localStorage.getItem(\"usersdata\");var loggeduserid=window.localStorage.getItem(\"loggeduserid\");var usrdata=typeof savedusers===\"string\"?JSON.parse(savedusers):null;if(usrdata){for(var index=0;index<usrdata.length;index++){var element=JSON.parse(usrdata[index]);if(element.email===loggeduserid){return{user:{id:element.id,name:element.name,email:element.email,password:element.password,identity:element.identity},isAuthenticated:true};}}}// eslint-disable-next-line no-fallthrough\ncase UNAUTHENTICATE:return{user:{id:0,name:'',email:'',password:'',identity:''},isAuthenticated:false};}return state;}","map":{"version":3,"sources":["/Users/OsamaAbdullah/Downloads/TempFiles/Today/ReactJs/regovtech/src/reducers/current.tsx"],"names":["AUTHENTICATE","UNAUTHENTICATE","currentReducer","state","user","id","name","email","password","identity","isAuthenticated","action","type","savedusers","window","localStorage","getItem","loggeduserid","usrdata","JSON","parse","index","length","element"],"mappings":"AACA,OAASA,YAAT,CAAuBC,cAAvB,KAA6C,cAA7C,CAGA,cAAe,SAASC,CAAAA,cAAT,EAYH,IAXVC,CAAAA,KAWU,2DAXQ,CAChBC,IAAI,CAAE,CACJC,EAAE,CAAE,CADA,CAEJC,IAAI,CAAE,EAFF,CAGJC,KAAK,CAAE,EAHH,CAIJC,QAAQ,CAAE,EAJN,CAKJC,QAAQ,CAAE,EALN,CADU,CAQhBC,eAAe,CAAE,IARD,CAWR,IADVC,CAAAA,MACU,2CACV,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKZ,CAAAA,YAAL,CACE,GAAMa,CAAAA,UAAU,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,CAAnB,CACA,GAAMC,CAAAA,YAAY,CAAGH,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,CAArB,CACA,GAAME,CAAAA,OAAO,CAAG,MAAOL,CAAAA,UAAP,GAAsB,QAAtB,CAAiCM,IAAI,CAACC,KAAL,CAAWP,UAAX,CAAjC,CAA0D,IAA1E,CACA,GAAGK,OAAH,CAAW,CACT,IAAK,GAAIG,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGH,OAAO,CAACI,MAApC,CAA4CD,KAAK,EAAjD,CAAqD,CACnD,GAAME,CAAAA,OAAO,CAAGJ,IAAI,CAACC,KAAL,CAAWF,OAAO,CAACG,KAAD,CAAlB,CAAhB,CACA,GAAGE,OAAO,CAAChB,KAAR,GAAkBU,YAArB,CAAkC,CAChC,MAAO,CACLb,IAAI,CAAE,CACJC,EAAE,CAAEkB,OAAO,CAAClB,EADR,CAEJC,IAAI,CAAEiB,OAAO,CAACjB,IAFV,CAGJC,KAAK,CAAEgB,OAAO,CAAChB,KAHX,CAIJC,QAAQ,CAAEe,OAAO,CAACf,QAJd,CAKJC,QAAQ,CAAEc,OAAO,CAACd,QALd,CADD,CAQLC,eAAe,CAAE,IARZ,CAAP,CAUD,CACF,CACF,CACH;AACA,IAAKT,CAAAA,cAAL,CACE,MAAO,CACLG,IAAI,CAAE,CACJC,EAAE,CAAE,CADA,CAEJC,IAAI,CAAE,EAFF,CAGJC,KAAK,CAAE,EAHH,CAIJC,QAAQ,CAAE,EAJN,CAKJC,QAAQ,CAAE,EALN,CADD,CAQLC,eAAe,CAAE,KARZ,CAAP,CAxBJ,CAmCA,MAAOP,CAAAA,KAAP,CACD","sourcesContent":["import { IAuthenticate, IUnauthenticate } from \"../actions/current\";\nimport { AUTHENTICATE, UNAUTHENTICATE } from \"../constants\";\nimport { ICurrent } from \"../types\";\n\nexport default function currentReducer(\n  state: ICurrent = {\n    user: {\n      id: 0,\n      name: '',\n      email: '',\n      password: '',\n      identity: ''\n    },\n    isAuthenticated: null,\n  },\n  action: IAuthenticate | IUnauthenticate,\n): ICurrent {\n  switch (action.type) {\n    case AUTHENTICATE:\n      const savedusers = window.localStorage.getItem(\"usersdata\");\n      const loggeduserid = window.localStorage.getItem(\"loggeduserid\");\n      const usrdata = typeof savedusers === \"string\" ? JSON.parse(savedusers) : null;\n      if(usrdata){\n        for (let index = 0; index < usrdata.length; index++) {\n          const element = JSON.parse(usrdata[index]);\n          if(element.email === loggeduserid){\n            return {\n              user: {\n                id: element.id,\n                name: element.name,\n                email: element.email,\n                password: element.password,\n                identity: element.identity\n              },\n              isAuthenticated: true\n            }\n          }\n        }\n      }\n    // eslint-disable-next-line no-fallthrough\n    case UNAUTHENTICATE:\n      return {\n        user: {\n          id: 0,\n          name: '',\n          email: '',\n          password: '',\n          identity: ''\n        },\n        isAuthenticated: false,\n      }\n  }\n  return state;\n}\n"]},"metadata":{},"sourceType":"module"}